\include{settings}

\begin{document}

\include{titlepage}

\tableofcontents
\newpage

\section{Цели работы}

Осуществить анализ механизмов обработки аппаратных и программных исключений, доступных в операционной системе Linux.

\section{Программа работы}

\input{workprogram}

\section{Используемое окружение}

\begin{itemize}
	\item ОС: Ubuntu
	\item Версия ОС: 19.10
	\item Процессор: Intel® Core™ i7-8550U CPU @ 1.80GHz × 8
	\item ОЗУ: 16 Гб
	\item Компилятор: g++ (Ubuntu 9.2.1-9ubuntu2) 9.2.1 20191008
	\item Отладчик: GNU gdb (Ubuntu 8.3-0ubuntu1) 8.3
\end{itemize}

\section{Используемые утилиты}

\subsection{GNU gdb}

%TODO про gdb

\subsection{strace}

%TODO про strace

\section{Обработка сигналов}

\subsection{Типы сигналов}

Сигналы в системе UNIX  используются для того, чтобы сообщить процессу о том, что возникло какое-либо событие или необходимо обработать исключительное состояние. 

%TODO табличка сигналов

\subsection{Генерация исключительных ситуаций}

Рассмотрим программу генерации сигнала выполнения ошибочной арифметической операции \code{SIGFPE}. Для этого поделим некоторое число на ноль.

\listingwithoutput{sigfpe}

Видно, что программа завершилась с кодом ошибки 136, что соответствует ошибочной арифметической операции (делении на 0 в данном случае).

Запустим программу \code{sigfpe} в отладчике \code{gdb}.

\logs{sigfpe/debug}

Из строки 13 видно, что произошла арифметическая ошибка и программа получила сигнал \code{SIGFPE}, после чего программа была завершена.

Рассмотрим программу генерации сигнала, генерируемого при попытке выполнить неправильно сформированную, несуществующую или привилегированную инструкцию \code{SIGILL}. Для этого будем использовать функцию \code{__buildin_trap()}, которую предоставляет компилятор \code{g++}. Внутри этой функции выполняется несуществующая инструкция для того, чтобы завершить программу ненормально (abnormal exit).

\listingwithoutput{sigill}

Запустим программу \code{sigill} в отладчике \code{gdb}.

\logs{sigill/debug}

Из строки 13 видно, что была выполнена неправильная инструкция и программа получила сигнала \code{SIGILL}, после чего программа была завершена.

\subsection{Назначение обработчика сигнала с помощью \code{signal}}

\listingwithoutput{sigfpe_signal}

Запустим программу \code{sigfpe_signal} в отладчике \code{gdb}.

\logs{sigfpe_signal/debug}

%TODO comments

\listingwithoutput{sigill_signal}

Запустим программу \code{sigill_signal} в отладчике \code{gdb}.

\logs{sigill_signal/debug}

%TODO comments

\subsection{Назначение обработчика сигнала с помощью \code{sigaction}}

\section{Генерация исключений языка \code{C++}}

\subsection{Вложенные исключения}

\subsection{Использование \code{goto} для выхода из \code{try}}

\section{Выводы}

В процессе выполнения данной работы:

\begin{itemize}
	\item 1
	\item 2
\end{itemize}

\newpage

\section*{Список использованных источников}

\begin{enumerate}
	\item Душутина Е.В. -- Системное программное обеспечение. Практические вопросы разработки системных приложений [Текст] -- 2016.
	\item Таненбаум Э. -- Современные операционные системы [Текст] -- 2015.
	\item Structured Exception Handling / Microsoft Docs [Электронный ресурс]:\\
		{\small\url{https://docs.microsoft.com/en-us/cpp/cpp/structured-exception-handling-c-cpp}}
	\item \_\_ud2 / Microsoft Docs [Электронный ресурс]:\\
		{\small\url{https://docs.microsoft.com/en-us/cpp/intrinsics/ud2}}
	\item Microsoft-specific exception handling mechanisms / Википедия [Электронный ресурс]:\\
		{\small\url{https://en.wikipedia.org/wiki/Microsoft-specific_exception_handling_mechanisms}}
\end{enumerate}

\end{document}
